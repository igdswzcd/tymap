{"version":3,"file":"Dice3D.js","sources":["components/Dice3D.uvue","../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovc2FrYW5hL3VuaWFwcC91bmktdHktbWFwL2NvbXBvbmVudHMvRGljZTNELnV2dWU"],"sourcesContent":["<template>\r\n  <view :class=\"['dice-' + componentId, 'box', { 'disabled': disabled }]\" ref=\"boxRef\">\r\n    <view class=\"front face\">\r\n      <view v-if=\"!disabled && residentCount\" class=\"wavy\">\r\n        <view class=\"wave wave-1\"></view>\r\n        <view class=\"wave wave-2\"></view>\r\n        <view class=\"wave wave-3\"></view>\r\n      </view>\r\n      <view v-if=\"disabled\" class=\"lock-icon\">\r\n        <text>üîí</text>\r\n      </view>\r\n      <view v-else class=\"building-number\">\r\n        <text>{{ buildingNumber }}</text>\r\n        <text v-if=\"residentCount\" class=\"resident-count\">({{ residentCount }})</text>\r\n      </view>\r\n    </view>\r\n    <view class=\"back face\"></view>\r\n    <view class=\"left face\"></view>\r\n    <view class=\"right face\" :style=\"{\r\n      transform: `rotateY(90deg) translateZ(${rightTranslateZ})`\r\n    }\">\r\n      <view v-if=\"!disabled && residentCount\" class=\"wavy\">\r\n        <view class=\"wave wave-1\"></view>\r\n        <view class=\"wave wave-2\"></view>\r\n        <view class=\"wave wave-3\"></view>\r\n      </view>\r\n    </view>\r\n    <view class=\"top face\"></view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\nimport { onMounted, ref, getCurrentInstance } from 'vue'\r\n\r\nconst instance = getCurrentInstance()\r\n\r\nconst boxRef = ref(null)\r\nconst rightTranslateZ = ref('133px')\r\nconst componentId = ref(Math.random().toString(36).substr(2, 9))\r\n\r\n// Props\r\ndefineProps({\r\n  disabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  buildingNumber: {\r\n    type: Number,\r\n    default: ''\r\n  },\r\n  residentCount: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  doorCount: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  totalCapacity: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n})\r\n\r\nonMounted(() => {\r\n\tconst query = uni.createSelectorQuery().in(instance.proxy);\r\n    query.select(`.dice-${componentId.value} .front`).boundingClientRect(function(data) {\r\n      if (data) {\r\n        // Âü∫Á°ÄÂ∞∫ÂØ∏\r\n        const baseSize = 25\r\n        // right: Âü∫‰∫é front ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶Êù•ËÆ°ÁÆó\r\n        const rightZ = (data.width - 25) / Math.cos(16 * Math.PI / 180)  // (data.width - 25) / cos(15deg)\r\n        rightTranslateZ.value = `${rightZ}px`\r\n      }\r\n    }).exec()\r\n})\r\n</script>\r\n\r\n<style>\r\n.box {\r\n  width: 80%;\r\n  height: 65%;\r\n  position: relative;\r\n  transform-style: preserve-3d;\r\n  transform: rotateX(-10deg) rotateY(-15deg);\r\n  overflow: visible;\r\n  transition: transform 0.6s ease;\r\n}\r\n\r\n.box.disabled .face {\r\n  background: linear-gradient(135deg, #f0f0f0 0%, #e8e9ea 50%, #d9dcdf 100%);\r\n  /* filter: grayscale(0.8); */\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.face {\r\n  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%);\r\n  border-radius: 8px;\r\n  position: relative;\r\n}\r\n\r\n.front {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 2px solid #dee2e6;\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  transform: translateZ(25px);\r\n  box-shadow:\r\n    0 4px 8px rgba(0,0,0,0.1),\r\n    inset 0 1px 0 rgba(255,255,255,0.8);\r\n  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.wavy {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background: #24e32d;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n}\r\n\r\n.wave {\r\n  position: absolute;\r\n  width: 300%;\r\n  height: 300%;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -75%);\r\n  border-radius: 45%;\r\n}\r\n\r\n.right .wave {\r\n  width: 800%;\r\n}\r\n\r\n.wave-1 {\r\n  animation: waveAnimate 8s linear infinite;\r\n  background: rgba(255,255,255,1);\r\n}\r\n\r\n.wave-2 {\r\n  animation: waveAnimate 12s linear infinite reverse;\r\n  background: rgba(73, 115, 255, 0.05);\r\n  border-radius: 40%;\r\n  background: rgba(255,255,255,0.5);\r\n}\r\n\r\n.wave-3 {\r\n  animation: waveAnimate 16s linear infinite;\r\n  background: rgba(255,255,255,0.5);\r\n  border-radius: 35%;\r\n}\r\n\r\n.back {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 2px solid #dee2e6;\r\n  transform: translateZ(-25px);\r\n  box-shadow:\r\n    inset 0 1px 0 rgba(255,255,255,0.6),\r\n    inset 0 -1px 0 rgba(0,0,0,0.1);\r\n  background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\r\n}\r\n\r\n.top {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 50px;\r\n  border: 2px solid #dee2e6;\r\n  transform: rotateX(90deg) translateZ(24px);\r\n  box-shadow:\r\n    0 2px 4px rgba(0,0,0,0.1),\r\n    inset 0 1px 0 rgba(255,255,255,0.8);\r\n  background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);\r\n}\r\n\r\n.left {\r\n  position: absolute;\r\n  width: 50px;\r\n  height: 100%;\r\n  transform: rotateY(90deg) translateZ(-25px);\r\n  border: 2px solid #dee2e6;\r\n  box-shadow:\r\n    inset -1px 0 0 rgba(0,0,0,0.1),\r\n    inset 1px 0 0 rgba(255,255,255,0.6);\r\n  background: linear-gradient(90deg, #f8f9fa 0%, #e9ecef 100%);\r\n}\r\n\r\n.right {\r\n  position: absolute;\r\n  width: 50px;\r\n  height: 100%;\r\n  transform: rotateY(90deg) translateZ(133px);\r\n  border: 2px solid #dee2e6;\r\n  box-shadow:\r\n    inset -1px 0 0 rgba(0,0,0,0.1),\r\n    inset 1px 0 0 rgba(255,255,255,0.6);\r\n  background: linear-gradient(90deg, #e9ecef 0%, #f8f9fa 100%);\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.lock-icon {\r\n  font-size: 24px;\r\n  color: #6c757d;\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.1);\r\n  animation: lockPulse 2s ease-in-out infinite;\r\n}\r\n\r\n.building-number {\r\n  color: #495057;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.1);\r\n}\r\n\r\n.resident-count {\r\n  color: #6c757d;\r\n  font-size: 12px;\r\n  font-weight: normal;\r\n  margin-left: 4px;\r\n}\r\n\r\n@keyframes lockPulse {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.1); }\r\n}\r\n\r\n@keyframes waveAnimate {\r\n  0% {\r\n    transform: translate(-50%, -75%) rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: translate(-50%, -75%) rotate(360deg);\r\n  }\r\n}\r\n\r\n.right .wave-1 {\r\n  animation: waveAnimateRight 8s linear infinite;\r\n}\r\n\r\n.right .wave-2 {\r\n  animation: waveAnimateRight 12s linear infinite reverse;\r\n  border-radius: 40%;\r\n}\r\n\r\n.right .wave-3 {\r\n  animation: waveAnimateRight 16s linear infinite;\r\n  border-radius: 35%;\r\n}\r\n\r\n@keyframes waveAnimateRight {\r\n  0% {\r\n    transform: translate(-50%, -75%) rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: translate(-50%, -75%) rotate(360deg);\r\n  }\r\n}\r\n</style>","import Component from 'D:/sakana/uniapp/uni-ty-map/components/Dice3D.uvue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","ref","onMounted","uni","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,UAAM,WAAWA,cAAAA;AAEjB,UAAM,SAASC,kBAAI,IAAI;AACvB,UAAM,kBAAkBA,kBAAI,OAAO;AACnC,UAAM,cAAcA,cAAAA,IAAI,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC;AA0B/DC,kBAAAA,UAAU,MAAA;AACT,YAAM,QAAQC,cAAAA,MAAI,oBAAmB,EAAG,GAAG,SAAS,KAAK;AACtD,YAAM,OAAO,SAAS,YAAY,KAAK,SAAS,EAAE,mBAAmB,SAAS,OAAI,MAAA;AAChF,YAAI,MAAM;AAIR,gBAAM,UAAU,KAAK,QAAQ,MAAM,KAAK,IAAI,KAAK,KAAK,KAAK,GAAG;AAC9D,0BAAgB,QAAQ,GAAG,MAAM;AAAA,QAClC;AAAA,MACH,CAAC,EAAE,KAAI;AAAA,IACX,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1ED,GAAG,gBAAgBC,SAAS;"}