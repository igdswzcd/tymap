{"version":3,"file":"Dice3D.js","sources":["components/Dice3D.uvue","../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovc2FrYW5hL3VuaWFwcC91bmktdHktbWFwL2NvbXBvbmVudHMvRGljZTNELnV2dWU"],"sourcesContent":["<template>\r\n  <view :class=\"'dice-' + componentId\" ref=\"boxRef\" class=\"box\">\r\n    <view class=\"front face\">\r\n\r\n    </view>\r\n    <view class=\"back face\">\r\n    </view>\r\n    <view class=\"left face\">\r\n    </view>\r\n    <view class=\"right face\" :style=\"{\r\n      transform: `rotateY(90deg) translateZ(${rightTranslateZ})`\r\n    }\">\r\n    </view>\r\n    <view class=\"top face\">\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\nimport { onMounted, ref, getCurrentInstance } from 'vue'\r\n\r\nconst instance = getCurrentInstance()\r\n\r\nconst boxRef = ref(null)\r\nconst rightTranslateZ = ref('133px')\r\nconst componentId = ref(Math.random().toString(36).substr(2, 9))\r\n\r\nonMounted(() => {\r\n\tconst query = uni.createSelectorQuery().in(instance.proxy);\r\n    query.select(`.dice-${componentId.value} .front`).boundingClientRect(function(data) {\r\n      if (data) {\r\n        // 基础尺寸\r\n        const baseSize = 25\r\n        // right: 基于 front 元素的宽度来计算\r\n        const rightZ = (data.width - 25) / Math.cos(16 * Math.PI / 180)  // (data.width - 25) / cos(15deg)\r\n        rightTranslateZ.value = `${rightZ}px`\r\n      }\r\n    }).exec()\r\n})\r\n</script>\r\n\r\n<style>\r\n.box {\r\n  width: 80%;\r\n  height: 65%;\r\n  position: relative;\r\n  transform-style: preserve-3d;\r\n  transform: rotateX(-10deg) rotateY(-15deg);\r\n  overflow: visible;\r\n  transition: transform 0.6s ease;\r\n}\r\n.face {\r\n  background-color: white;\r\n}\r\n.front {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid #000;\r\n  transform: translateZ(25px);\r\n}\r\n.back {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid #000;\r\n  transform: translateZ(-25px);\r\n}\r\n.top {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 50px;\r\n  border: 1px solid #000;\r\n  transform: rotateX(90deg) translateZ(24px);\r\n}\r\n.left {\r\n  position: absolute;\r\n  width: 50px;\r\n  height: 100%;\r\n  transform: rotateY(90deg) translateZ(-25px);\r\n  border: 1px solid #000;\r\n}\r\n.right {\r\n  position: absolute;\r\n  width: 50px;\r\n  height: 100%;\r\n  transform: rotateY(90deg) translateZ(133px);\r\n  border: 1px solid #000;\r\n}\r\n</style>","import Component from 'D:/sakana/uniapp/uni-ty-map/components/Dice3D.uvue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","ref","onMounted","uni","Component"],"mappings":";;;;;AAqBA,UAAM,WAAWA,cAAAA;AAEjB,UAAM,SAASC,kBAAI,IAAI;AACvB,UAAM,kBAAkBA,kBAAI,OAAO;AACnC,UAAM,cAAcA,cAAAA,IAAI,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC;AAE/DC,kBAAAA,UAAU,MAAA;AACT,YAAM,QAAQC,cAAAA,MAAI,oBAAmB,EAAG,GAAG,SAAS,KAAK;AACtD,YAAM,OAAO,SAAS,YAAY,KAAK,SAAS,EAAE,mBAAmB,SAAS,OAAI,MAAA;AAChF,YAAI,MAAM;AAIR,gBAAM,UAAU,KAAK,QAAQ,MAAM,KAAK,IAAI,KAAK,KAAK,KAAK,GAAG;AAC9D,0BAAgB,QAAQ,GAAG,MAAM;AAAA,QAClC;AAAA,MACH,CAAC,EAAE,KAAI;AAAA,IACX,CAAC;;;;;;;;;;;;;ACrCD,GAAG,gBAAgBC,SAAS;"}